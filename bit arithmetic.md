title: java中的位运算
categories: java基础
tags: 
	- 位运算
---

### 原码，补码，反码

#### 原码

原码就是符号位加上真值的绝对值, 即用第一位表示符号, 其余位表示值. 比如如果是8位二进制:

[+1]原 = 0000 0001

[-1]原 = 1000 0001

#### 补码

正数的补码就是其本身，负数的补码是在其原码的基础上, 符号位不变, 其余各位取反, 最后+1. (即在反码的基础上+1),**负数的补码转为原码也是符号位不变, 其余各位取反, 最后+1**

[+1] = [00000001]原 = [00000001]反 = [00000001]补

[-1] = [10000001]原 = [11111110]反 = [11111111]补

#### 反码

正数的反码是其本身，负数的反码是在其原码的基础上, 符号位不变，其余各个位取反。

[+1] = [00000001]原 = [00000001]反

[-1] = [10000001]原 = [11111110]反

### 或运算

`System.out.println(3 | 4);`

`7`

转化为2进制补码运算，0 1 1与 1 0 0 相或 结果为1 1 1，所以为7

### 与运算

`System.out.println(3 & 4);`

`0`

转化为2进制补码运算，0 1 1与 1 0 0 相与，结果为0 0 0，所以为0

### 左移<<

`System.out.println(5<<2)`

`20`

首先会将5转为2进制表示形式(java中，整数默认就是int类型,也就是32位):

0000 0000 0000 0000 0000 0000 0000 0101           然后左移2位后，低位补0
0000 0000 0000 0000 0000 0000 0001 0100           换算成10进制为20

`System.out.println(-5 << 2);`

`-20`

1111 1111 1111 1111 1111 1111 1111 1011           然后左移2位后，低位也是补0
1111 1111 1111 1111 1111 1111 1110 1100           换算成10进制为-20
    
### 右移>>

`System.out.println(5>>2);`

`1`

还是先将5转为2进制表示形式：
0000 0000 0000 0000 0000 0000 0000 0101           然后右移2位，高位补0：
0000 0000 0000 0000 0000 0000 0000 0001			  换算成10进制为1

`System.out.println(-5>>3);`

`-1`

-5换算成二进制:
1111 1111 1111 1111 1111 1111 1111 1011          然后右移三位，高位补1
1111 1111 1111 1111 1111 1111 1111 1111          换算成10进制为-1

### 无符号右移>>>

`System.out.println(5 >>> 3);`

`0`

5换算成二进制:
0000 0000 0000 0000 0000 0000 0000 0101          然后右移三位，高位补0
0000 0000 0000 0000 0000 0000 0000 0000          换算成10进制为0

`System.out.println(-5 >>> 3);`

`536870911`

-5换算成二进制:
1111 1111 1111 1111 1111 1111 1111 1011         带符号右移，高位补0
0001 1111 1111 1111 1111 1111 1111 1111         换算成10进制为536870911

### 位异或^

位异或：第一个操作数的的第n位于第二个操作数的第n位 相反，那么结果的第n为也为1，否则为0

`System.out.println(5 ^ 3);`

`6`

5转换为二进制：0000 0000 0000 0000 0000 0000 0000 0101
3转换为二进制：0000 0000 0000 0000 0000 0000 0000 0011
得：0000 0000 0000 0000 0000 0000 0000 0110